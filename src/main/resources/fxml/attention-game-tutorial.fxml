<?xml version="1.0" encoding="UTF-8"?>
<!-- language: xml -->
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Polygon?>
<?import javafx.scene.shape.Rectangle?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.group1.asda.ui.attentiongametutorial.AttentionGameTutorialController"
            stylesheets="@../css/attention-game-tutorial.css"
            styleClass="attention-tutorial-root"
            prefWidth="980" prefHeight="600"
            onKeyPressed="#onKeyPressed">

    <!-- HEADER -->
    <top>
        <HBox styleClass="attention-tutorial-header" alignment="CENTER_LEFT" spacing="12">
            <HBox.margin>
                <Insets left="24" right="24" top="0" bottom="0"/>
            </HBox.margin>

            <StackPane alignment="CENTER_LEFT" prefWidth="1">
                <Label text="Tutorial: Attention Game" styleClass="attention-tutorial-title"/>
            </StackPane>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="✕ Skip" fx:id="btnSkip" styleClass="btn-attention-skip btn-attention-back"/>
        </HBox>
    </top>

    <!-- CENTER: Scrollable tutorial pages -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="16">
            <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="attention-tutorial-scroll" prefHeight="480" prefWidth="940">
                <content>
                    <VBox spacing="24" alignment="TOP_CENTER" styleClass="attention-tutorial-content" maxWidth="820">
                        <padding>
                            <Insets top="24" right="24" bottom="24" left="24"/>
                        </padding>
                        <!-- Page 1: Welcome -->
                        <VBox spacing="12" alignment="TOP_CENTER" fx:id="pageWelcome">
                            <Label text="Welcome To Attention Game!" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="Get ready to test your focus! You will watch as shapes appear and find when they match. This helps us understand how well you stay focused and recognize patterns." styleClass="attention-lead-text" maxWidth="780" />
                        </VBox>

                        <!-- Page 2: The Shapes -->
                        <VBox spacing="18" alignment="TOP_CENTER" fx:id="pageShapes">
                            <Label text="The Shapes" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="You will see three different shapes: Circle, Square, and Triangle. Each one will appear in the center of the screen, one at a time." styleClass="attention-lead-text" maxWidth="780" />
                            <HBox spacing="36" alignment="CENTER" styleClass="attention-card attention-card-blue">
                                <padding>
                                    <Insets top="20" right="20" bottom="20" left="20"/>
                                </padding>
                                <VBox alignment="CENTER" spacing="8">
                                    <Circle radius="40" fill="#8da0b8"/>
                                    <Label text="Circle"/>
                                </VBox>
                                <VBox alignment="CENTER" spacing="8">
                                    <Rectangle width="80" height="80" arcWidth="20" arcHeight="20" fill="#8da0b8"/>
                                    <Label text="Square"/>
                                </VBox>
                                <VBox alignment="CENTER" spacing="8">
                                    <Polygon points="40,0,0,80,80,80" scaleX="1" scaleY="1" fill="#8da0b8"/>
                                    <Label text="Triangle"/>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Page 3: The Colors -->
                        <VBox spacing="18" alignment="TOP_CENTER" fx:id="pageColors">
                            <Label text="The Colors" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="Each shape will either be Blue or Red. Pay close attention because both the shape AND the color matter!" styleClass="attention-lead-text" maxWidth="780" />
                            <HBox alignment="CENTER" styleClass="attention-card attention-card-teal" spacing="48">
                                <padding>
                                    <Insets top="28" right="28" bottom="28" left="28"/>
                                </padding>
                                <VBox alignment="CENTER" spacing="12">
                                    <Circle radius="36" fill="#92a9c9"/>
                                    <Label text="Blue" style="-fx-text-fill: #92a9c9; -fx-font-size: 30px;"/>
                                </VBox>
                                <VBox alignment="CENTER" spacing="12">
                                    <Circle radius="36" fill="#ff6b6b"/>
                                    <Label text="Red" style="-fx-text-fill: #ff6b6b; -fx-font-size: 30px;"/>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Page 4: Finding Matches -->
                        <VBox spacing="18" alignment="TOP_CENTER" fx:id="pageMatches">
                            <Label text="Finding Matches" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="When you see the SAME shape with the SAME color appear twice in a row, that's a match! Press the SPACE bar when you spot one." styleClass="attention-lead-text" maxWidth="780" />
                            <VBox alignment="CENTER" spacing="12" styleClass="attention-card">
                                <padding>
                                    <Insets top="22" right="22" bottom="22" left="22"/>
                                </padding>
                                <Label text="This is a MATCH - Press the SPACE bar!" />
                                <HBox spacing="48" alignment="CENTER">
                                    <padding>
                                        <Insets top="20" right="20" bottom="20" left="20"/>
                                    </padding>
                                    <VBox alignment="CENTER" spacing="6">
                                        <Circle radius="40" fill="#8da0b8"/>
                                        <Label text="First shape"/>
                                    </VBox>
                                    <Label text="→" style="-fx-font-size: 24px; -fx-text-fill: #7fae95;" />
                                    <VBox alignment="CENTER" spacing="6">
                                        <Circle radius="40" fill="#8da0b8"/>
                                        <Label text="Second shape"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </VBox>

                        <!-- Page 5: Try the Space Bar -->
                        <VBox spacing="18" alignment="TOP_CENTER" fx:id="pagePractice">
                            <Label text="Try the Space Bar" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="Practice pressing the space bar now! During the game, you'll press it quickly when you see a match." styleClass="attention-lead-text" maxWidth="780" />
                            <VBox alignment="CENTER" spacing="12" styleClass="attention-card">
                                <padding>
                                    <Insets top="16" right="16" bottom="16" left="16"/>
                                </padding>
                                <Label text="Click the Space Bar to practice!" />
                                <Button text="SPACE" fx:id="btnPracticeSpace" style="-fx-font-size: 28px; -fx-min-width: 420px; -fx-min-height: 80px;" />
                            </VBox>
                        </VBox>

                        <!-- Page 6: All Set -->
                        <VBox spacing="18" alignment="TOP_CENTER" fx:id="pageAllSet">
                            <Label text="You're All Set!" styleClass="attention-tutorial-title" />
                            <Label wrapText="true" text="Remember: Watch for the same shape AND same color appearing twice in a row. Take your time, have fun, and don't worry about mistakes!" styleClass="attention-lead-text" maxWidth="780" />
                        </VBox>

                        <Region prefHeight="8"/>
                    </VBox>
                </content>
            </ScrollPane>

            <!-- Pagination dots (visual only - controller can update) -->
            <HBox alignment="CENTER" spacing="10" prefHeight="24">
                <Region prefWidth="120"/>
                <HBox spacing="8" alignment="CENTER" fx:id="dots">
                    <!-- Dots are simple circles; controller can toggle styleClass on them -->
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                    <Circle radius="6" style="-fx-fill: #c2bfc2;"/>
                </HBox>
                <Region prefWidth="120"/>
            </HBox>
        </VBox>
    </center>

    <!-- FOOTER -->
    <bottom>
        <HBox styleClass="attention-tutorial-footer" alignment="CENTER_LEFT" spacing="12">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox.margin>
                <Insets left="24" right="24" top="8" bottom="12"/>
            </HBox.margin>

            <Button text="← Back" fx:id="backButton" onAction="#onBack" styleClass="btn-attention-back"/>

            <Region HBox.hgrow="ALWAYS"/>

            <HBox alignment="CENTER" spacing="8">
                <Button text="◀" fx:id="btnPrev" styleClass="btn-attention-back"/>
                <Button text="▶" fx:id="btnNext" styleClass="btn-attention-begin"/>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="Start Playing" fx:id="beginButton" onAction="#onBegin" styleClass="btn-attention-begin" />
        </HBox>
    </bottom>
</BorderPane>
