<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.group1.asda.ui.attentiongame.AttentionGameController"
            fx:id="rootPane"
            stylesheets="@../css/attention-game.css"
            styleClass="attention-game-root"
            prefWidth="980" prefHeight="600">

    <!-- Game Screen -->
    <top>
        <HBox styleClass="attention-game-header" alignment="CENTER_LEFT">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Title and instruction -->
            <VBox spacing="4" HBox.hgrow="ALWAYS" minWidth="0.0">
                <Label text="Attention Game" styleClass="attention-game-title" wrapText="true" maxWidth="1.7976931348623157E308"/>
                <Label text="Press SPACE bar when shapes match!" styleClass="attention-game-subtitle" wrapText="true" maxWidth="1.7976931348623157E308"/>
            </VBox>

            <!-- Stats -->
            <HBox spacing="16" alignment="CENTER_RIGHT">
                <VBox spacing="2" alignment="TOP_RIGHT">
                    <Label text="Trials" styleClass="stat-label" wrapText="true"/>
                    <Label fx:id="trialsLabel" text="0/50" styleClass="stat-value"/>
                </VBox>
                <VBox spacing="2" alignment="TOP_RIGHT">
                    <Label text="Correct" styleClass="stat-label" wrapText="true"/>
                    <Label fx:id="correctLabel" text="0" styleClass="stat-value"/>
                </VBox>
                <VBox spacing="2" alignment="TOP_RIGHT">
                    <Label text="Incorrect" styleClass="stat-label" wrapText="true"/>
                    <Label fx:id="incorrectLabel" text="0" styleClass="stat-value"/>
                </VBox>
                <VBox spacing="2" alignment="TOP_RIGHT">
                    <Label text="Accuracy" styleClass="stat-label" wrapText="true"/>
                    <Label fx:id="accuracyLabel" text="100" styleClass="stat-value"/>
                </VBox>
            </HBox>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="attention-scroll">
            <StackPane styleClass="attention-game-center">
                <!-- Active game content -->
                <VBox fx:id="gameContent" alignment="CENTER" spacing="24" maxWidth="900">
                    <!-- Shape display area -->
                    <StackPane fx:id="shapeContainer" prefWidth="360" prefHeight="260" alignment="CENTER">
                        <ImageView fx:id="shapeImageView" fitWidth="240" fitHeight="240" preserveRatio="true"/>
                    </StackPane>

                    <!-- Instruction box -->
                    <VBox alignment="CENTER" spacing="12" styleClass="instruction-box" maxWidth="520" minWidth="0.0">
                        <padding>
                            <Insets top="14" right="18" bottom="14" left="18"/>
                        </padding>
                        <Label text="Press when shapes match" styleClass="instruction-text" wrapText="true" maxWidth="1.7976931348623157E308"/>
                        <Button fx:id="spaceFlashButton" text="SPACE" styleClass="space-key-display" disable="true" focusTraversable="false"/>
                    </VBox>
                </VBox>

                <!-- Pause overlay -->
                <VBox fx:id="pauseOverlay" alignment="CENTER" spacing="16" visible="false" managed="false"
                      styleClass="pause-overlay">
                    <!-- Pause icon -->
                    <HBox spacing="8" alignment="CENTER">
                        <Region styleClass="pause-bar"/>
                        <Region styleClass="pause-bar"/>
                    </HBox>
                    <Label text="Game Paused" styleClass="pause-title"/>
                    <Label text="Click Resume to continue" styleClass="pause-subtitle" wrapText="true" maxWidth="320"/>
                </VBox>
            </StackPane>
        </ScrollPane>
    </center>

    <bottom>
        <HBox alignment="CENTER" spacing="16" styleClass="attention-game-footer">
            <padding>
                <Insets top="20" right="32" bottom="20" left="32"/>
            </padding>

            <Button fx:id="pauseButton" text="Pause" onAction="#onPause" styleClass="btn-pause"/>
            <Button fx:id="resumeButton" text="Resume" onAction="#onResume" styleClass="btn-pause" visible="false" managed="false"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="Home" onAction="#onHome" styleClass="btn-home"/>
        </HBox>
    </bottom>
</BorderPane>
